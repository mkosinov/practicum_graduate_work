# Справка

Краткое описание принципа работы ассистента.

Входящий запрос от пользователя поступает на API и валидируется схеме определенного вида ассистента(Алиса/Салют/Маруся и тд). Схемы запросов, ответов, а также методы реализованы в соответствующих классах Assistant.

DialogController перемещает диалог на определенный метод в зависимости от интента. В методе указаны какой запрос необходимо отправить в moviesAPI, чтобы получить необходимую пользователю информацию.
Запрос в moviesAPI отправляется с помощью вспомогательного сервиса ServiceInteractor, который в свою очередь образается к MoviesInterface, где реализованы схемы и методы работы с API сервиса moviesAPI.

Используя полученые поисковые данные из ServiceInteractor, DialogController генерирует ответ пользователю с помощью метода класса Assistant и отправляет ответ пользователю.

При отправке ответа пользователю сервис сохраняет исходный запрос и ответ в БД с помощью DialogKeeper.

## Работа по анализу команды пользователя

Всю работу по анализу команды пользователя выполняет Yandex Dialogs на основе заданных нами настроек.

Фразы пользователя разбираются на составляющие:

**Интенты** - действия, которые хочет совершить пользователь. Задаются шаблонами или синонимами. Каждому интенту соответствует одна форма.

**Форма** — контейнер с информацией, заполнляемый ответами фразами пользователя. Форма всегда соответствует одному интенту и содержит набор типизированных слотов.

**Слот** — поле формы. Каждый слот имеет название, тип данных и признак обязательности. Например, из реплики "погода на завтра в Питере" для заполнения слотов будут извлечены дата (завтра) и место (в Питере).

**Сущности** - слова и фразы, которые описывают определенные объекты:

* персона (фамилия, имя, отчество);
* год;
* тип фильма (фильм, шоу, сериал);
* роль (режиссёр, актёр, сценарист);
* жанр фильма (комедия, драма, фэнтези, боевик, мюзикл, семейный);
* рейтинг фильма (от 1 до 10);

**Токены** - слова в исходной фразе пользователя, приведённые к нормализованному виду.
